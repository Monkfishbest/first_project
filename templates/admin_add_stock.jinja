{% extends "admin_base.jinja" %} {% block content %}
<h1>Current stock:</h1>
    <h2>Frames:</h2>
        <ul>
            {% for frame in frames %}
                <li>Frame style: {{ frame.style }}</li>
                <li>Frame size: {{ frame.size }}</li>
                <li>Metres of fabric required: {{ frame.metres_required }}</li>
                <li>Number in stock: 
                    <form name="update_frame_stock" action="update_frame_stock/{{ frame.id }}" method="post">
                        <input type="number" name="update_frame_stock" value="{{ frame.stock_level }}"/>
                        <button type="submit">Update stock</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <h3>Add new frame:</h3>
        <form name="add_frame" action="add_frame" method="post">
            <label for="frame_style">Style:</label>
            <input type="text" name="frame_style" id="frame_style" required="yes"/>

            <label for="frame_size">Size:</label>
            <input type="text" name="frame_size" id="frame_size" required="yes"/>

            <label for="frame_stock">Stock:</label>
            <input type="number" name="frame_stock" id="frame_stock" required="yes"/>

            <label for="metres_required">Metres of fabric required:</label>
            <input type="number" step="0.01" name="metres_required" id="metres_required" required="yes"/>

            <button type="submit">Add to stock</button>
        </form>
    <h2>Fabrics:</h2>
        <ul>
            {% for fabric in fabrics %}
                <li>Fabric pattern: {{ fabric.pattern }}</li>
                <li>Metres in stock:
                    <form name="update_fabric_stock" action="update_fabric_stock/{{ fabric.id }}" method="post">
                        <input type="number" name="update_fabric_stock" step="0.01" value="{{ fabric.metres_in_stock }}"/>
                        <button type="submit">Update stock</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <h2>Add new fabric:</h2>
        <form name="add_fabric" action="add_fabric" method="post">
            <label for="fabric_pattern">Pattern</label>
            <input type="text" name="fabric_pattern" id="fabric_pattern" required="yes"/>

            <label for="metres_in_stock">Metres in stock:</label>
            <input type="number" name="metres_in_stock" id="metres_in_stock" required="yes"/>

            <button type="submit">Add to stock</button>
        </form>
{% endblock %}